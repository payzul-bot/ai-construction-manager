# AI Construction Platform — UX Flows

## 1. Назначение документа

Этот документ описывает пользовательские сценарии (UX flows)
AI Construction Platform.

Цель:
- зафиксировать логику взаимодействия пользователя с платформой;
- исключить случайные UX-решения;
- обеспечить соответствие интерфейса архитектуре и расчётному ядру.

UX не принимает решений и не влияет на расчёты.

---

## 2. Общие принципы UX

1. Пользователь может начать с **свободного текста** или с **проекта**.
2. Платформа задаёт **минимальное количество точечных вопросов**.
3. Любой результат объясним и воспроизводим.
4. Любое изменение входных данных создаёт **новую версию**.
5. Пользователь всегда понимает:
   - что посчитано;
   - на основе каких данных;
   - где есть риски и ограничения.

---

## 3. Главный экран (Entry Point)

### 3.1 Основные элементы
- одно текстовое поле для свободного запроса;
- примеры запросов под полем;
- кнопка «Создать проект» в шапке.

### 3.2 Примеры запросов
- «Покрасить стены в квартире 60 м²»
- «Смета на ремонт офиса под ключ»
- «Демонтаж перегородок и вывоз мусора»
- «Коммерческая смета для подрядчика»

Примеры — подсказка, а не сценарий.

---

## 4. Flow A — Свободный текст (Base44-логика)

### 4.1 Ввод запроса
Пользователь вводит задачу обычным языком.

Платформа:
- определяет тип активности (строительство / ремонт / демонтаж / монтаж);
- определяет предполагаемый класс работ;
- формирует первичную гипотезу проекта.

---

### 4.2 Уточняющие вопросы
Платформа задаёт вопросы **только если они влияют на расчёт**.

Примеры:
- тип объекта;
- примерная площадь;
- уровень ремонта;
- есть ли ограничения по срокам.

Вопросы:
- короткие;
- однозначные;
- без инженерных терминов.

---

### 4.3 Предварительный результат
Пользователь получает:
- список работ;
- ориентировочные объёмы;
- диапазон бюджета;
- выявленные риски.

Результат помечается как **предварительный**.

---

### 4.4 Сохранение в проект
Пользователь может:
- сохранить результат как проект;
- продолжить детализацию;
- перейти в проектный режим.

---

## 5. Flow B — Создание проекта

### 5.1 Создание проекта
Пользователь нажимает «Создать проект».

Обязательные параметры:
- регион;
- тип объекта;
- тип заказчика;
- уровень работ.

---

### 5.2 Добавление данных
Пользователь может:
- вводить данные вручную;
- использовать wizard;
- загрузить файлы (Excel и др.).

Импорт ускоряет ввод, но не завершает расчёт.

---

### 5.3 Расчёт
После подтверждения данных:
- вызывается расчётное ядро;
- формируется версия результата;
- отображается полный расчёт.

---

## 6. Flow C — Импорт данных

### 6.1 Загрузка файла
Пользователь загружает файл:
- Excel;
- CSV;
- другие поддерживаемые форматы.

---

### 6.2 Сопоставление
Платформа:
- сопоставляет строки с каноническими работами;
- показывает неоднозначности;
- требует подтверждения.

---

### 6.3 Подтверждение
Каждый параметр имеет статус:
- импортирован;
- подтверждён пользователем.

Без подтверждения расчёт невозможен.

---

## 7. Flow D — Работа с результатом

### 7.1 Просмотр результата
Пользователь видит:
- перечень работ;
- материалы;
- инструменты и оборудование;
- QC и риски;
- итоговые суммы.

---

### 7.2 Объяснение результата
Пользователь может раскрыть:
- почему добавлена работа;
- почему включён ресурс;
- из-за какого условия появился риск.

Объяснение **не меняет расчёт**.

---

### 7.3 Изменение данных
Любое изменение:
- параметров;
- объёмов;
- ограничений;

создаёт **новую версию** расчёта.

---

## 8. Совместная работа (B2B)

### 8.1 Пользователи проекта
В проекте могут работать:
- ПТО;
- инженер;
- сметчик;
- руководитель.

---

### 8.2 Роли
Роли определяют:
- кто может менять входные данные;
- кто может запускать расчёт;
- кто может просматривать результат.

---

## 9. Ошибки и блокировки в UX

Если расчёт заблокирован:
- пользователь видит причину;
- показывается, что нужно исправить;
- нет «молчаливых» ошибок.

UX никогда не скрывает блокировки ядра.

---

## 10. Чего UX делать НЕ МОЖЕТ

Запрещено:
- добавлять работы вручную;
- добавлять материалы;
- обходить правила;
- «улучшать» расчёт;
- скрывать риски.

---

## 11. Эволюция UX

Допустимо:
- добавление новых сценариев;
- улучшение навигации;
- ускорение ввода.

Недопустимо:
- перенос логики из ядра в интерфейс;
- принятие решений вместо ядра.

---

## 12. Статус документа

Этот документ:
- обязателен для UX и frontend;
- меняется по мере роста продукта;
- не влияет на расчётную логику.